---
title: Hensyn ved oppgradering – Microsoft Dynamics 365 Project Service Automation versjon 2.x eller 1.x til versjon 3
description: Dette emnet gir informasjon om hensyn du må ta når du oppgraderer fra Project Service Automation versjon 2.x eller 1.x til versjon 3.
manager: kfend
ms.service: business-applications
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
ms.prod: ''
ms.technology: Dynamics 365 Project Service Automation 3.x
author: JohnPBurrows
ms.assetid: e4fae2ea-9013-488e-a666-f7192dd42c0b
ms.author: john.burrows
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
ms.openlocfilehash: ba710eb8c07df7dac97e8b911184c00b87b14548
ms.sourcegitcommit: 8c786230ef2a497280885b827162561776e2eb00
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 03/24/2020
ms.locfileid: "3754150"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="711f0-103">Hensyn ved oppgradering – PSA-versjon 2.x eller 1.x til versjon 3</span><span class="sxs-lookup"><span data-stu-id="711f0-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="711f0-104">Project Service Automation og Field Service</span><span class="sxs-lookup"><span data-stu-id="711f0-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="711f0-105">Både Dynamics 365 Project Service Automation og Dynamics 365 Field Service bruker løsningen Universal Resourcing Scheduling (URS) for ressursplanlegging.</span><span class="sxs-lookup"><span data-stu-id="711f0-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="711f0-106">Hvis du har både Project Service Automation and Field Service i forekomsten, må du planlegge å oppgradere begge løsningene til den nyeste versjonen (versjon 3.x for Project Service Automation, versjon 8.x for Field Service).</span><span class="sxs-lookup"><span data-stu-id="711f0-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="711f0-107">Oppgradering av Project Service Automation eller Field Service installerer den nyeste versjonen av URS, noe som betyr at inkonsekvent funksjonalitet er mulig hvis både Project Service Automation- og Field Service-løsningen i samme forekomst ikke oppgraderes til nyeste versjon.</span><span class="sxs-lookup"><span data-stu-id="711f0-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="711f0-108">Ressurstilordninger</span><span class="sxs-lookup"><span data-stu-id="711f0-108">Resource assignments</span></span>
<span data-ttu-id="711f0-109">I Project Service Automation versjon 2 og versjon 1 ble oppgavetilordninger lagret som underordnede oppgaver (også kalt linjeoppgaver) i **Oppgaveenhet** og var indirekte relatert til **Ressurstilordning**-enheten.</span><span class="sxs-lookup"><span data-stu-id="711f0-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="711f0-110">Linjeoppgaven var synlig i popup-vinduet for tilordningen i arbeidsnedbrytningsstrukturen (WBS).</span><span class="sxs-lookup"><span data-stu-id="711f0-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Linjeaktiviteter i WBS i Project Service Automation versjon 2 og versjon 1](media/upgrade-line-task-01.png)

<span data-ttu-id="711f0-112">I versjon 3 av Project Service Automation er det underliggende skjemaet for tilordning av bestillbare ressurser til oppgaver endret.</span><span class="sxs-lookup"><span data-stu-id="711f0-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="711f0-113">Linjeoppgaven er avskrevet, og det er en direkte 1:1-relasjon mellom oppgaven i **Oppgaveenhet** og teammedlemmet i enheten **Ressurstilordning**.</span><span class="sxs-lookup"><span data-stu-id="711f0-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="711f0-114">Oppgaver som er tilordnet til et prosjektteammedlem, er nå lagret direkte i ressurstilordningsenheten.</span><span class="sxs-lookup"><span data-stu-id="711f0-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="711f0-115">Disse endringene påvirker oppgraderingen av eventuelle eksisterende prosjekter som har ressurstilordninger for navngitte reserverbare ressurser og generelle ressurser i et prosjektteam.</span><span class="sxs-lookup"><span data-stu-id="711f0-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="711f0-116">Dette emnet gir deg vurderingene du må ta hensyn til for prosjektene dine når du oppgraderer til versjon 3.</span><span class="sxs-lookup"><span data-stu-id="711f0-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="711f0-117">Oppgaver tilordnet til navngitte ressurser</span><span class="sxs-lookup"><span data-stu-id="711f0-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="711f0-118">Ved hjelp av den underliggende oppgaveenheten kunne teammedlemmer ved hjelp av oppgaver i versjon 2 og versjon 1 ha en annen rolle enn standardrollen som er definert.</span><span class="sxs-lookup"><span data-stu-id="711f0-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="711f0-119">For eksempel kunne Sigrid Hammeren, som var tilordnet rollen som Programbehandler som standard, tilordnes en oppgave med rollen utvikler.</span><span class="sxs-lookup"><span data-stu-id="711f0-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="711f0-120">I versjon 3 er rollen for et navngitt teammedlem alltid standard, slik at alle oppgaver som Sigrid Hammeren er tilordnet, bruker standardrollen som Programbehandler.</span><span class="sxs-lookup"><span data-stu-id="711f0-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="711f0-121">Hvis du har tilordnet en ressurs til en aktivitet utenfor standardrollen i versjon 2 og versjon 1, tilordnes den navngitte ressursen til standardrollen for alle oppgavetilordninger når du oppgraderer, uavhengig av rolletilordning i versjon 2.</span><span class="sxs-lookup"><span data-stu-id="711f0-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="711f0-122">Dette vil føre til forskjeller i de beregnede beregningene fra versjon 2 eller versjon 1 til versjon 3, fordi estimater beregnes basert på rollen til ressursen og ikke tilordning av linjeoppgaver.</span><span class="sxs-lookup"><span data-stu-id="711f0-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="711f0-123">I versjon 2 er eksempelvis to oppgaver tilordnet til Aurora Tharaldsen.</span><span class="sxs-lookup"><span data-stu-id="711f0-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="711f0-124">Rollen på linjeoppgaven for oppgave 1 er Utvikler og Programbehandler for oppgave 2.</span><span class="sxs-lookup"><span data-stu-id="711f0-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="711f0-125">Aurora Tharaldsen har standardrollen som Programbehandler.</span><span class="sxs-lookup"><span data-stu-id="711f0-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Flere roller som er tilordnet én ressurs](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="711f0-127">I og med at rollene som Utvikler og Programbehandler er forskjellige, er kostnads- og salgsberegningene som følger:</span><span class="sxs-lookup"><span data-stu-id="711f0-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Kostnadsestimater for ressursroller](media/upggrade-cost-estimates-03.png)

![Salgsestimater for ressursroller](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="711f0-130">Når du oppgraderer til versjon 3, blir linjeoppgaver erstattet med ressurstilordninger for oppgaven for ressursteammedlemmet som kan bestilles.</span><span class="sxs-lookup"><span data-stu-id="711f0-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="711f0-131">Tilordningen bruker standardrollen ressursen som kan reserveres.</span><span class="sxs-lookup"><span data-stu-id="711f0-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="711f0-132">I grafikken nedenfor har Aurora Tharaldsen rollen som Programbehandler i ressursen.</span><span class="sxs-lookup"><span data-stu-id="711f0-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Ressurstilordninger](media/resource-assignment-v2-05.png)

<span data-ttu-id="711f0-134">I og med at estimatene er basert på standardrollen for ressursen, kan det hende at salgs- og kostnadsberegningene endres.</span><span class="sxs-lookup"><span data-stu-id="711f0-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="711f0-135">Vær oppmerksom på at du ikke lenger kan se rollen **Utvikler** i grafikken nedenfor, fordi rollen nå hentes fra den bestillbare ressursens standardrolle.</span><span class="sxs-lookup"><span data-stu-id="711f0-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="711f0-136">![Kostnadsestimater for standardroller](media/resource-assignment-cost-estimate-06.png)
![Salgsestimater for standardroller](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="711f0-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="711f0-137">Når oppgraderingen er fullført, kan du redigere rollen til et teammedlem til noen annet enn den tilordnede standarden.</span><span class="sxs-lookup"><span data-stu-id="711f0-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="711f0-138">Hvis du imidlertid endrer teammedlemmers rolle, blir den endret på alle de tilordnede oppgavene, fordi teammedlemmer ikke lenger kan tilordnes flere roller i versjon 3.</span><span class="sxs-lookup"><span data-stu-id="711f0-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Oppdatere en ressursrolle](media/resource-role-assignment-08.png)

<span data-ttu-id="711f0-140">Dette gjelder også for linjeaktiviteter som er tilordnet navngitte ressurser når du endrer ressursens organisasjonsenhet fra standard til en annen organisasjonsenhet.</span><span class="sxs-lookup"><span data-stu-id="711f0-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="711f0-141">Når oppgraderingen av versjon 3 er fullført, bruker tilordningen ressursens standard organisasjonsenhet i stedet for den som er angitt i linjeoppgaven.</span><span class="sxs-lookup"><span data-stu-id="711f0-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="711f0-142">Oppgaver som er tilordnet generelle ressurser</span><span class="sxs-lookup"><span data-stu-id="711f0-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="711f0-143">I versjon 2 og versjon 1 kan du angi rolle og organisasjonsenhet for en oppgave og deretter bruke funksjonen **Generer team** til å generere generelle ressurser basert på attributtene som er angitt for oppgaven.</span><span class="sxs-lookup"><span data-stu-id="711f0-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="711f0-144">I versjon 3 oppretter du generelle teammedlemmer med rolle- og organisasjonsenheten, og deretter tilordner du teammedlemmene til oppgaver.</span><span class="sxs-lookup"><span data-stu-id="711f0-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="711f0-145">I versjon 2 og versjon 1 kan prosjekter med generelle ressurser ha to tilstander eller en kombinasjon av begge på aktivitetsnivå.</span><span class="sxs-lookup"><span data-stu-id="711f0-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="711f0-146">Du har for eksempel følgende scenarioer:</span><span class="sxs-lookup"><span data-stu-id="711f0-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="711f0-147">Oppgaver med angitte roller og organisasjonssett, men ingen tilknyttede ressurstilordning er generert.</span><span class="sxs-lookup"><span data-stu-id="711f0-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="711f0-148">Oppgaver med ressurstilordninger for generelle gruppemedlemmer som ble tilordnet ved å opprette generelle ressurser med funksjonen **Generer team**.</span><span class="sxs-lookup"><span data-stu-id="711f0-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="711f0-149">Før du starter oppgraderingen, anbefaler vi at du genererer teamet på nytt for hvert prosjekt som har aktiviteter som er tilordnet til generelle ressurser, eller som teamprosessen fremdeles ikke er kjørt på.</span><span class="sxs-lookup"><span data-stu-id="711f0-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="711f0-150">For oppgaver som er tilordnet til generelle teammedlemmer som ble generert med **Generer team**, vil oppgraderingen beholde den generelle ressursen i teamet og beholde tilordningen til det generelle teammedlemmet.</span><span class="sxs-lookup"><span data-stu-id="711f0-150">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="711f0-151">Vi anbefaler at du genererer ressurskravet for det generelle teammedlemmet etter oppgraderingen, men før du bestiller eller sender en ressursforespørsel.</span><span class="sxs-lookup"><span data-stu-id="711f0-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="711f0-152">Dette bevarer eventuelle organisasjonsenhetstilordninger for de generelle teammedlemmene som er forskjellige fra prosjektets kontraktsorganisasjonsenhet.</span><span class="sxs-lookup"><span data-stu-id="711f0-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="711f0-153">I Prosjekt Z-prosjektet er for eksempel kontraktorganisasjonsenheten Ekeli USA.</span><span class="sxs-lookup"><span data-stu-id="711f0-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="711f0-154">I prosjektplanen er testing av oppgaver i implementeringsfasen blitt tilordnet rollen Teknisk konsulent, og den tilordnede organisasjonsenheten er Ekeli India.</span><span class="sxs-lookup"><span data-stu-id="711f0-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Organisasjonstilordning for implementeringsfasen](media/org-unit-assignment-09.png)

<span data-ttu-id="711f0-156">Etter implementeringsfasen tilordnes integreringstestoppgaven til den tekniske konsulenten, men organisasjonen er satt til Ekeli USA.</span><span class="sxs-lookup"><span data-stu-id="711f0-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Organisasjonstilordning for integreringstestoppgave](media/org-unit-generate-team-10.png)

<span data-ttu-id="711f0-158">Når du genererer et team for prosjektet, opprettes det to generiske teammedlemmer på grunn av de forskjellige organisasjonsenhetene i oppgavene.</span><span class="sxs-lookup"><span data-stu-id="711f0-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="711f0-159">Teknisk konsulent 1 blir tilordnet Ekeli India-oppgaver, og Teknisk konsulent 2 får Ekeli USA-oppgavene.</span><span class="sxs-lookup"><span data-stu-id="711f0-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Genererte generelle teammedlemmer](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="711f0-161">I Project Service Automation versjon 2 og versjon 1 inneholder ikke teammedlemmet organisasjonsenheten som vedlikeholdes på linjeoppgaven.</span><span class="sxs-lookup"><span data-stu-id="711f0-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Linjeoppgaver i versjon 2 og versjon 1 i Project Service Automation](media/line-tasks-12.png)

<span data-ttu-id="711f0-163">Du kan vise organisasjonsenheten i beregningsvisningen.</span><span class="sxs-lookup"><span data-stu-id="711f0-163">You can see the organization unit on the estimates view.</span></span> 

![Estimater for organisasjonsenheter](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="711f0-165">Når oppgraderingen er fullført, blir organisasjonsenheten i linjeoppgaven som tilsvarer det generelle teammedlemmet, lagt til det generelle teammedlemmet, og linjeoppgaven blir fjernet.</span><span class="sxs-lookup"><span data-stu-id="711f0-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="711f0-166">På grunn av dette anbefaler vi at før du oppgraderer, genererer eller genererer teamet på nytt for hvert prosjekt som inneholder generelle ressurser.</span><span class="sxs-lookup"><span data-stu-id="711f0-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="711f0-167">For oppgaver som er tilordnet til en rolle med en organisasjonsenhet som er forskjellig fra organisasjonsenheten for kontraktprosjektet, og et team ikke er generert, oppretter oppdateringen et generelt team for rollen, men vil bruke kontraktenheten for prosjektet for teammedlemmets organisasjonsenhet.</span><span class="sxs-lookup"><span data-stu-id="711f0-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="711f0-168">Ved å se på eksemplet med Prosjekt Z betyr dette at kontraktorganisasjonsenheten Ekeli USA og prosjektplanen som tester oppgaver i implementeringsfasen, er tilordnet rollen som Teknisk konsulent med organisasjonsenheten tilordnet til Ekeli India.</span><span class="sxs-lookup"><span data-stu-id="711f0-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="711f0-169">Integrasjonstestoppgaven som fullføres etter implementeringsfasen, er tilordnet til rollen Teknisk konsulent.</span><span class="sxs-lookup"><span data-stu-id="711f0-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="711f0-170">Organisasjonsenheten er Ekeli USA, og et team har ikke blitt generert.</span><span class="sxs-lookup"><span data-stu-id="711f0-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="711f0-171">Oppgraderingen oppretter ett generisk teammedlem, en teknisk konsulent som har de tildelte timene for alle tre oppgaver og organisasjonsenheten Ekeli, prosjektets kontraktorganisasjonsenhet.</span><span class="sxs-lookup"><span data-stu-id="711f0-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="711f0-172">Endring av standarden for de ulike ressursorganisasjonsenhetene på ikke-genererte teammedlemmer er årsaken til at vi anbefaler at du genererer eller genererer teamet på nytt for hvert prosjekt som inneholder generelle ressurser, før oppgraderingen, slik at organisasjonsenhetstilordningene ikke går tapt.</span><span class="sxs-lookup"><span data-stu-id="711f0-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

