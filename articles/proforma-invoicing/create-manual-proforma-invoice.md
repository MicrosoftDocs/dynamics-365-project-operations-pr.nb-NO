---
title: Proformafakturaer
description: Dette emnet inneholder informasjon om proformafakturaer i Project Operations.
author: rumant
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 3eaf2f19506c5464c302176fc620aad5f29b4ae7
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 05/10/2021
ms.locfileid: "6000673"
---
# <a name="proforma-invoices"></a><span data-ttu-id="746ec-103">Proformafakturaer</span><span class="sxs-lookup"><span data-stu-id="746ec-103">Proforma invoices</span></span>

<span data-ttu-id="746ec-104">_**Gjelder for:** Project Operations for ressursbaserte/ikke-lagerbaserte scenarioer_</span><span class="sxs-lookup"><span data-stu-id="746ec-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="746ec-105">Proformafakturering gir prosjektledere et andre godkjenningsnivå før de oppretter fakturaer for kunder.</span><span class="sxs-lookup"><span data-stu-id="746ec-105">Proforma invoicing gives project managers a second level of approval before they create invoices for customers.</span></span> <span data-ttu-id="746ec-106">Det første godkjenningsnivået fullføres når tids,- utgifts- og materialoppføringene som prosjektteammedlemmene sender inn, godkjennes.</span><span class="sxs-lookup"><span data-stu-id="746ec-106">The first level of approval is completed when time, expense, and material entries that project team members submit are approved.</span></span> <span data-ttu-id="746ec-107">Bekreftede proformafakturaer er tilgjengelige i Prosjektregnskap-modulen i Project Operations.</span><span class="sxs-lookup"><span data-stu-id="746ec-107">Confirmed proforma invoices are available in the Project Accounting module of Project Operations.</span></span> <span data-ttu-id="746ec-108">Prosjektregnskapsførere kan utføre flere oppdateringer, for eksempel oppsett av salgsavgifter, regnskap og fakturaer.</span><span class="sxs-lookup"><span data-stu-id="746ec-108">Project accountants can perform additional updates such as sales tax, accounting, and invoice layout.</span></span>


## <a name="creating-project-invoices"></a><span data-ttu-id="746ec-109">Opprette prosjektfakturaer</span><span class="sxs-lookup"><span data-stu-id="746ec-109">Creating project invoices</span></span>

<span data-ttu-id="746ec-110">Prosjektfakturaer kan opprettes én om gangen eller i et parti.</span><span class="sxs-lookup"><span data-stu-id="746ec-110">Project invoices can be created one at a time or in bulk.</span></span> <span data-ttu-id="746ec-111">Du kan opprette dem manuelt, eller de kan konfigureres slik at de genereres i automatiske kjøringer.</span><span class="sxs-lookup"><span data-stu-id="746ec-111">You can create them manually, or they can be configured so that they are generated in automated runs.</span></span>

### <a name="manually-create-project-invoices"></a><span data-ttu-id="746ec-112">Opprette prosjektfakturaer manuelt</span><span class="sxs-lookup"><span data-stu-id="746ec-112">Manually create project invoices</span></span> 

<span data-ttu-id="746ec-113">Fra listesiden **Prosjektkontrakter** kan du opprette prosjektfakturaer separat for hver prosjektkontrakt, eller du kan opprette fakturaer samlet for flere prosjektkontrakter.</span><span class="sxs-lookup"><span data-stu-id="746ec-113">From the **Project Contracts** list page, you can create project invoices separately for each project contract, or you can create invoices in bulk for multiple project contracts.</span></span>

<span data-ttu-id="746ec-114">Følg dette trinnet for å opprette en faktura for en bestemt prosjektkontrakt.</span><span class="sxs-lookup"><span data-stu-id="746ec-114">Follow this step to create an invoice for a specific project contract.</span></span>

- <span data-ttu-id="746ec-115">Åpne en prosjektkontrakt på listesiden **Prosjektkontrakter**, og velg deretter **Opprett faktura**.</span><span class="sxs-lookup"><span data-stu-id="746ec-115">On the **Project Contracts** list page, open a project contract, and then select **Create Invoice**.</span></span>

    <span data-ttu-id="746ec-116">Det blir generert en faktura for alle transaksjoner for den valgte prosjektkontrakten som har statusen **Klar for fakturering**.</span><span class="sxs-lookup"><span data-stu-id="746ec-116">An invoice is generated for all transactions for the selected project contract that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="746ec-117">Disse transaksjonene inkluderer tid, utgifter, materialer, milepæler og andre ufakturerte salgsjournallinjer.</span><span class="sxs-lookup"><span data-stu-id="746ec-117">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

<span data-ttu-id="746ec-118">Følg disse trinnene for å opprette fakturaer samlet.</span><span class="sxs-lookup"><span data-stu-id="746ec-118">Follow these steps to create invoices in bulk.</span></span>

1. <span data-ttu-id="746ec-119">På listesiden **Prosjektkontrakter** velger du en eller flere prosjektkontrakter du må opprette en faktura for, og deretter velger du **Opprett prosjektfakturaer**.</span><span class="sxs-lookup"><span data-stu-id="746ec-119">On the **Project Contracts** list page, select one or more project contracts that you must create an invoice for, and then select **Create Project Invoices**.</span></span>

    <span data-ttu-id="746ec-120">En varselmelding informerer deg om at det kan være en forsinkelse før fakturaer opprettes.</span><span class="sxs-lookup"><span data-stu-id="746ec-120">A warning message informs you that there might be a delay before invoices are created.</span></span> <span data-ttu-id="746ec-121">Prosessen vises også.</span><span class="sxs-lookup"><span data-stu-id="746ec-121">The process is also shown.</span></span>

2. <span data-ttu-id="746ec-122">Velg **OK** for å lukke meldingsboksen.</span><span class="sxs-lookup"><span data-stu-id="746ec-122">Select **OK** to close the message box.</span></span>

    <span data-ttu-id="746ec-123">Det blir generert en faktura for alle transaksjoner på en kontraktlinje som har statusen **Klar for fakturering**.</span><span class="sxs-lookup"><span data-stu-id="746ec-123">An invoice is generated for all transactions on a contract line that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="746ec-124">Disse transaksjonene inkluderer tid, utgifter, materialer, milepæler og andre ufakturerte salgsjournallinjer.</span><span class="sxs-lookup"><span data-stu-id="746ec-124">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

3. <span data-ttu-id="746ec-125">Hvis du vil vise fakturaene som er generert, går du til **Salg** \> **Fakturering** \> **Fakturaer**.</span><span class="sxs-lookup"><span data-stu-id="746ec-125">To view the invoices that are generated, go to **Sales** \> **Billing** \> **Invoices**.</span></span> <span data-ttu-id="746ec-126">Du kan se én faktura for hver prosjektkontrakt.</span><span class="sxs-lookup"><span data-stu-id="746ec-126">You will see one invoice for each project contract.</span></span>

### <a name="set-up-automated-creation-of-project-invoices"></a><span data-ttu-id="746ec-127">Konfigurere automatisk opprettelse av prosjektfakturaer</span><span class="sxs-lookup"><span data-stu-id="746ec-127">Set up automated creation of project invoices</span></span> 

<span data-ttu-id="746ec-128">Følg denne fremgangsmåten for å konfigurere en automatisk fakturakjøring.</span><span class="sxs-lookup"><span data-stu-id="746ec-128">Follow these steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="746ec-129">Gå til **Innstillinger** \> **Satvise jobber**.</span><span class="sxs-lookup"><span data-stu-id="746ec-129">Go to **Settings** \> **Batch jobs**.</span></span>
2. <span data-ttu-id="746ec-130">Opprett en satsvis jobb, og gi den navnet **Opprett fakturaer i Project Operations**.</span><span class="sxs-lookup"><span data-stu-id="746ec-130">Create a batch job, and name it **Project Operations Create Invoices**.</span></span> <span data-ttu-id="746ec-131">Navnet på den satsvise jobben må inneholde begrepet "Opprette fakturaer".</span><span class="sxs-lookup"><span data-stu-id="746ec-131">The name of the batch job must include the term "Create Invoices."</span></span>
3. <span data-ttu-id="746ec-132">I **Jobbtype**-feltet velger du **Ingen**.</span><span class="sxs-lookup"><span data-stu-id="746ec-132">In the **Job type** field, select **None**.</span></span> <span data-ttu-id="746ec-133">Som standard er **Daglig intervall** og **Er aktiv** satt til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="746ec-133">By default, the **Frequency Daily** and **Is Active** options are set to **Yes**.</span></span>
4. <span data-ttu-id="746ec-134">Velg **Kjør arbeidsflyt**.</span><span class="sxs-lookup"><span data-stu-id="746ec-134">Select **Run Workflow**.</span></span> <span data-ttu-id="746ec-135">I dialogboksen **Oppslagsoppføring** vises tre arbeidsflyter:</span><span class="sxs-lookup"><span data-stu-id="746ec-135">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

    - <span data-ttu-id="746ec-136">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="746ec-136">ProcessRunCaller</span></span>
    - <span data-ttu-id="746ec-137">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="746ec-137">ProcessRunner</span></span>
    - <span data-ttu-id="746ec-138">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="746ec-138">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="746ec-139">Velg **ProcessRunCaller**, og velg deretter **Legg til**.</span><span class="sxs-lookup"><span data-stu-id="746ec-139">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="746ec-140">Velg **OK** i den neste dialogboksen.</span><span class="sxs-lookup"><span data-stu-id="746ec-140">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="746ec-141">Arbeidsflyten **Hvile** følges av arbeidsflyten **Prosess**.</span><span class="sxs-lookup"><span data-stu-id="746ec-141">A **Sleep** workflow is followed by a **Process** workflow.</span></span>

    <span data-ttu-id="746ec-142">Du kan også velge **ProcessRunner** i trinn 5.</span><span class="sxs-lookup"><span data-stu-id="746ec-142">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="746ec-143">Når du deretter velger **OK**, etterfølges en **Prosess**-arbeidsflyt av en **Hvile**-arbeidsflyt.</span><span class="sxs-lookup"><span data-stu-id="746ec-143">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="746ec-144">Arbeidsflytene **ProcessRunCaller** og **ProcessRunner** oppretter fakturaer.</span><span class="sxs-lookup"><span data-stu-id="746ec-144">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="746ec-145">**ProcessRunCaller** kaller **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="746ec-145">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="746ec-146">**ProcessRunner** er arbeids flyten som faktisk oppretter fakturaene.</span><span class="sxs-lookup"><span data-stu-id="746ec-146">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="746ec-147">Det går gjennom alle kontraktslinjene som fakturaer må opprettes for, og det opprettes fakturaer for disse linjene.</span><span class="sxs-lookup"><span data-stu-id="746ec-147">It goes through all the contract lines that invoices must be created for, and it creates invoices for those lines.</span></span> <span data-ttu-id="746ec-148">For å finne ut hvilke kontraktslinjer fakturaer må opprettes for, ser jobben på fakturakjøredatoer for kontraktslinjene.</span><span class="sxs-lookup"><span data-stu-id="746ec-148">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="746ec-149">Hvis kontraktslinjer som tilhører én kontrakt, har samme fakturakjøringsdato, kombineres transaksjonene til én faktura som har to fakturalinjer.</span><span class="sxs-lookup"><span data-stu-id="746ec-149">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="746ec-150">Hvis det ikke finnes transaksjoner for å opprette fakturaer for, hopper jobben over fakturaopprettelsen.</span><span class="sxs-lookup"><span data-stu-id="746ec-150">If there are no transactions to create invoices for, the job skips invoice creation.</span></span>

<span data-ttu-id="746ec-151">Når **ProcessRunner** har kjørt ferdig, kaller den **ProcessRunCaller**, angir sluttidspunktet og lukkes.</span><span class="sxs-lookup"><span data-stu-id="746ec-151">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="746ec-152">**ProcessRunCaller** starter deretter en tidtaker som kjører i 24 timer, fra det angitte sluttidspunktet.</span><span class="sxs-lookup"><span data-stu-id="746ec-152">**ProcessRunCaller** then starts a timer that runs for 24 hours from the specified end time.</span></span> <span data-ttu-id="746ec-153">Når tidtakeren er ferdig, lukkes **ProcessRunCaller**.</span><span class="sxs-lookup"><span data-stu-id="746ec-153">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="746ec-154">Den satsvise prosessjobben for oppretting av fakturaer er en gjentakende jobb.</span><span class="sxs-lookup"><span data-stu-id="746ec-154">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="746ec-155">Hvis denne satsvise prosessen kjører mange ganger, opprettes flere forekomster av jobben, og det fører til feil.</span><span class="sxs-lookup"><span data-stu-id="746ec-155">If this batch process is run many times, multiple instances of the job are created and cause errors.</span></span> <span data-ttu-id="746ec-156">Derfor bør du starte den satsvise prosessen bare én gang, og du bør bare starte den på nytt hvis den slutter å kjøre.</span><span class="sxs-lookup"><span data-stu-id="746ec-156">Therefore, you should start the batch process only one time, and you should restart it only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="746ec-157">Satsvis fakturering kjører bare for prosjektkontraktlinjer som er konfigurert ved hjelp av fakturaplaner.</span><span class="sxs-lookup"><span data-stu-id="746ec-157">Batch invoicing only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="746ec-158">En kontraktlinje med en faktureringsmetode for fast pris må ha milepæler konfigurert.</span><span class="sxs-lookup"><span data-stu-id="746ec-158">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="746ec-159">Det må konfigureres en datobasert fakturaplan for en prosjektkontraktlinje med en faktureringsmetode for tid og materialer.</span><span class="sxs-lookup"><span data-stu-id="746ec-159">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span> <span data-ttu-id="746ec-160">Det samme gjelder for en prosjektbasert kontraktlinje.</span><span class="sxs-lookup"><span data-stu-id="746ec-160">The same applies to a project-based contract line.</span></span>      
 
### <a name="edit-a-draft-invoice"></a><span data-ttu-id="746ec-161">Redigere et fakturautkast</span><span class="sxs-lookup"><span data-stu-id="746ec-161">Edit a draft invoice</span></span>

<span data-ttu-id="746ec-162">Når du oppretter et fakturautkast for et prosjekt, trekkes alle ikke-fakturerte salgstransaksjoner som ble opprettet da tids-, utgifts- og materialbruksoppføringene ble godkjent, til fakturaen.</span><span class="sxs-lookup"><span data-stu-id="746ec-162">When you create a draft project invoice, all unbilled sales transactions that were created when the time, expense, and material usage entries were approved are pulled onto the invoice.</span></span> <span data-ttu-id="746ec-163">Du kan foreta følgende justeringer mens fakturaen fremdeles er i en utkastfase:</span><span class="sxs-lookup"><span data-stu-id="746ec-163">You can make the following adjustments while the invoice is still in a draft stage:</span></span>

- <span data-ttu-id="746ec-164">Slette eller redigere fakturalinjedetaljer.</span><span class="sxs-lookup"><span data-stu-id="746ec-164">Delete or edit invoice line details.</span></span>
- <span data-ttu-id="746ec-165">Redigere og justere antallet og faktureringstypen.</span><span class="sxs-lookup"><span data-stu-id="746ec-165">Edit and adjust the quantity and billing type.</span></span>

<span data-ttu-id="746ec-166">Velg **Bekreft** for å bekrefte en faktura.</span><span class="sxs-lookup"><span data-stu-id="746ec-166">Select **Confirm** to confirm an invoice.</span></span> <span data-ttu-id="746ec-167">Bekreftelseshandlingen er en énveishandling.</span><span class="sxs-lookup"><span data-stu-id="746ec-167">The Confirm action is a one-way action.</span></span> <span data-ttu-id="746ec-168">Når du velger **Bekreft**, blir fakturaen skrivebeskyttet, og det opprettes faktiske verdier for fakturert salg fra hver fakturalinjedetalj for hver fakturalinje.</span><span class="sxs-lookup"><span data-stu-id="746ec-168">When you select **Confirm**, the system makes the invoice read-only and creates billed sales actuals from each invoice line detail for each invoice line.</span></span> <span data-ttu-id="746ec-169">Hvis fakturalinjedetaljene refererer til en faktisk salgsordre, tilbakefører systemet også faktisk fakturert salg.</span><span class="sxs-lookup"><span data-stu-id="746ec-169">If the invoice line detail references an unbilled sales actual, the system also reverses the unbilled sales actual.</span></span> <span data-ttu-id="746ec-170">(Alle fakturalinjedetaljer som ble opprettet fra en tids- eller utgiftsoppføring, vil referere til et ikke-fakturert salg.) Integrasjonssystemer for hovedboken kan bruke denne tilbakeføringen til å tilbakeføre prosjektarbeid som pågår, for regnskapsformål.</span><span class="sxs-lookup"><span data-stu-id="746ec-170">(Any invoice line detail that was created from a time or expense entry will reference an unbilled sales actual.) General ledger integration systems can use this reversal to reverse project work in progress (WIP) for accounting purposes.</span></span>

### <a name="correct-a-confirmed-invoice"></a><span data-ttu-id="746ec-171">Korrigere en bekreftet faktura</span><span class="sxs-lookup"><span data-stu-id="746ec-171">Correct a confirmed invoice</span></span>

<span data-ttu-id="746ec-172">Bekreftede fakturaer kan redigeres (korrigeres).</span><span class="sxs-lookup"><span data-stu-id="746ec-172">Confirmed invoices can be edited (corrected).</span></span> <span data-ttu-id="746ec-173">Når du korrigerer en bekreftet faktura, opprettes det et nytt korrigert fakturautkast.</span><span class="sxs-lookup"><span data-stu-id="746ec-173">When you correct a confirmed invoice, a new draft corrective invoice is created.</span></span> <span data-ttu-id="746ec-174">Fordi det antas at du vil tilbakeføre alle transaksjonene og antallene fra den opprinnelige fakturaen, inneholder denne korrigerte fakturaen alle transaksjonene fra den opprinnelige fakturaen, og alle antallene i den er 0 (null).</span><span class="sxs-lookup"><span data-stu-id="746ec-174">Because the assumption is that you want to reverse all the transactions and quantities from the original invoice, this corrective invoice includes all the transactions from the original invoice, and all the quantities on it are 0 (zero).</span></span>

<span data-ttu-id="746ec-175">Hvis noen av transaksjonene ikke krever rettelser, kan du fjerne dem fra det korrigerte fakturautkastet.</span><span class="sxs-lookup"><span data-stu-id="746ec-175">If any transactions don't require correction, you can remove them from the draft corrective invoice.</span></span> <span data-ttu-id="746ec-176">Hvis du vil tilbakeføre eller bare returnere et delvis antall, kan du redigere **Antall**-feltet i linjedetaljene.</span><span class="sxs-lookup"><span data-stu-id="746ec-176">If you want to reverse or return only a partial quantity, you can edit the **Quantity** field on the line detail.</span></span> <span data-ttu-id="746ec-177">Hvis du åpner fakturalinjedetaljene, kan du se det opprinnelige fakturaantallet.</span><span class="sxs-lookup"><span data-stu-id="746ec-177">If you open the invoice line detail, you can see the original invoice quantity.</span></span> <span data-ttu-id="746ec-178">Du kan deretter redigere det gjeldende fakturaantallet slik at det blir mindre enn eller større enn det opprinnelige fakturaantallet.</span><span class="sxs-lookup"><span data-stu-id="746ec-178">You can then edit the current invoice quantity so that it's less than or more than the original invoice quantity.</span></span>

<span data-ttu-id="746ec-179">Når du bekrefter en korrigert faktura, tilbakeføres det opprinnelige faktiske fakturerte salget, og et nytt faktisk fakturert salg opprettes.</span><span class="sxs-lookup"><span data-stu-id="746ec-179">When you confirm a corrective invoice, the original billed sales actual is reversed, and a new billed sales actual is created.</span></span> <span data-ttu-id="746ec-180">Hvis antallet ble redusert, vil forskjellen føre til at et nytt, ikke-fakturert faktisk salg også opprettes.</span><span class="sxs-lookup"><span data-stu-id="746ec-180">If the quantity was reduced, the difference will cause a new unbilled sales actual to be created too.</span></span> <span data-ttu-id="746ec-181">Hvis det opprinnelige fakturerte salget for eksempel var på åtte timer, og den korrigerte fakturalinjedetaljen har et redusert antall på seks timer, tilbakeføres den opprinnelige, fakturerte salgslinjen, og det opprettes to nye faktiske verdier:</span><span class="sxs-lookup"><span data-stu-id="746ec-181">For example, if the original billed sale was for eight hours, and the corrective invoice line detail has a reduced quantity of six hours, the original billed sales line is reversed and two new actuals are created:</span></span>

- <span data-ttu-id="746ec-182">Et fakturert faktisk salg på seks timer.</span><span class="sxs-lookup"><span data-stu-id="746ec-182">A billed sales actual for six hours.</span></span>
- <span data-ttu-id="746ec-183">Et ikke-fakturert faktisk salg for de resterende to timene.</span><span class="sxs-lookup"><span data-stu-id="746ec-183">An unbilled sales actual for the remaining two hours.</span></span> <span data-ttu-id="746ec-184">Denne transaksjonen kan enten faktureres senere eller merkes som ikke-belastbar, avhengig av forhandlingene med kunden.</span><span class="sxs-lookup"><span data-stu-id="746ec-184">This transaction can either be billed later or marked as non-chargeable, depending on the negotiations with the customer.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
